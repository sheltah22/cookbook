<%= form_for @recipe do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="field">
    <%= f.label :title, class: "label" %>
    <div class="control">
      <%= f.text_field :title, class: "input" %>
    </div>
  </div>

  <div class="field">
    <%= f.label :dish_type, class: "label" %>
    <div class="control">
      <div class="select">
        <%= f.collection_select :dish_type_id, DishType.all, :id, :name %>
      </div>
    </div>
  </div>

  <%= f.fields_for :ingredients do |ff| %>
    <%= render 'ingredient_form', f: ff %>
  <% end %>

  <div class="level">
    <div class="level-left">
      <div class="level-item">
        <button class="button" type="button">
          <%= link_to_add_ingredient "Add ingredient", f, :ingredients %>
        </button>
      </div>
    </div>
  </div>

  <div class="field">
    <%= f.label :content, class: "label" %>
    <div class="control">
      <%= f.text_area :content, class: "input", rows: "50" %>
    </div>
  </div>

  <div class="field">
    <div class="control">
      <%= f.submit "Save", class: "button is-blue" %>
    </div>
  </div>
<% end %>
